function fetchStory(t,e){$.getJSON("https://hacker-news.firebaseio.com/v0/item/"+t+".json?print=pretty",function(t,n){return"error"===n?e(n):(t.text&&(t.content=t.text),void e(null,{item:t,status:n}))})}ready(function(){$(document).on("click","#reset-and-load-from-hn",function(){var t=$(this).data("api");$.getJSON("https://hacker-news.firebaseio.com/v0/topstories.json",function(e){e.forEach(function(e){fetchStory(e,function(e,n){if(e||!n.item)return void console.log("rawr",e,n);var o=$.ajax({type:"POST",url:t,data:n,dataType:"JSON",headers:{Authorization:"Token token="+window.current_user.token}});o.success(function(){}),o.error(function(){})})})})})});